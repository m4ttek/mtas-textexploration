<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2020-09-24 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20200924" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Multi Tier Annotation Search &#x2013; Index</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

                      </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>MTAS</h2>
                </div>
                      </div>
        <div class="pull-right">                  <a href="https://www.textexploration.org/" id="bannerRight">
                                                                                                <img src="images/texplo.png"  alt="Text Exploration" width="120" height="120"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                  <li id="projectVersion">Version: 8.6.1.1-SNAPSHOT
                          <span class="divider">|</span>
                    </li>
                              <li class="">
                    <a href="index.html" title="Mtas">
        Mtas</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">Index</li>
                
              
                  <li id="publishDate" class="pull-right">Last Published: 2020-09-24</li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                    <li class="nav-header">Mtas</li>
                              
      <li>
  
                          <a href="index.html" title="Introduction">
          <span class="none"></span>
        Introduction</a>
            </li>
                
      <li>
  
                          <a href="features.html" title="Features">
          <span class="none"></span>
        Features</a>
            </li>
                                                                                                      
      <li>
  
                          <a href="installation.html" title="Getting started">
          <span class="icon-chevron-right"></span>
        Getting started</a>
                  </li>
                                                                                                                                                                                                      
      <li>
  
                          <a href="indexing.html" title="Indexing">
          <span class="icon-chevron-right"></span>
        Indexing</a>
                  </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
      <li>
  
                          <a href="search.html" title="Search">
          <span class="icon-chevron-down"></span>
        Search</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="search_configuration.html" title="Configuration">
          <span class="none"></span>
        Configuration</a>
            </li>
                                                                                                                                                                                                                                                                                                                                                              
      <li>
  
                          <a href="search_component.html" title="Component">
          <span class="icon-chevron-down"></span>
        Component</a>
                    <ul class="nav nav-list">
                                                                                                          
      <li>
  
                          <a href="search_component_stats.html" title="Statistics">
          <span class="icon-chevron-right"></span>
        Statistics</a>
                  </li>
                    
      <li>
  
                          <a href="search_component_heatmap.html" title="Heatmap">
          <span class="none"></span>
        Heatmap</a>
            </li>
                    
      <li>
  
                          <a href="search_component_kwic.html" title="Kwic">
          <span class="none"></span>
        Kwic</a>
            </li>
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>Index</a>
          </li>
                    
      <li>
  
                          <a href="search_component_list.html" title="List">
          <span class="none"></span>
        List</a>
            </li>
                    
      <li>
  
                          <a href="search_component_page.html" title="Page">
          <span class="none"></span>
        Page</a>
            </li>
                    
      <li>
  
                          <a href="search_component_document.html" title="Document">
          <span class="none"></span>
        Document</a>
            </li>
                    
      <li>
  
                          <a href="search_component_termvector.html" title="Termvector">
          <span class="none"></span>
        Termvector</a>
            </li>
                    
      <li>
  
                          <a href="search_component_facet.html" title="Facet">
          <span class="none"></span>
        Facet</a>
            </li>
                    
      <li>
  
                          <a href="search_component_group.html" title="Group">
          <span class="none"></span>
        Group</a>
            </li>
                    
      <li>
  
                          <a href="search_component_prefix.html" title="Prefix">
          <span class="none"></span>
        Prefix</a>
            </li>
                    
      <li>
  
                          <a href="search_component_collection.html" title="Collection">
          <span class="none"></span>
        Collection</a>
            </li>
                    
      <li>
  
                          <a href="search_component_version.html" title="Version">
          <span class="none"></span>
        Version</a>
            </li>
              </ul>
        </li>
                                                                                                    
      <li>
  
                          <a href="search_parser.html" title="Parser">
          <span class="icon-chevron-down"></span>
        Parser</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="search_parser_cql.html" title="CQL query">
          <span class="none"></span>
        CQL query</a>
            </li>
                    
      <li>
  
                          <a href="search_parser_simple.html" title="Simple query">
          <span class="none"></span>
        Simple query</a>
            </li>
                    
      <li>
  
                          <a href="search_parser_join.html" title="Join query">
          <span class="none"></span>
        Join query</a>
            </li>
              </ul>
        </li>
                    
      <li>
  
                          <a href="search_handler.html" title="Handler">
          <span class="none"></span>
        Handler</a>
            </li>
                    
      <li>
  
                          <a href="search_stats.html" title="Type of statistics">
          <span class="none"></span>
        Type of statistics</a>
            </li>
                    
      <li>
  
                          <a href="search_functions.html" title="Functions">
          <span class="none"></span>
        Functions</a>
            </li>
                    
      <li>
  
                          <a href="search_cql.html" title="CQL">
          <span class="none"></span>
        CQL</a>
            </li>
                    
      <li>
  
                          <a href="search_simple.html" title="Simple">
          <span class="none"></span>
        Simple</a>
            </li>
                    
      <li>
  
                          <a href="search_sharding.html" title="Sharding">
          <span class="none"></span>
        Sharding</a>
            </li>
              </ul>
        </li>
                
      <li>
  
                          <a href="download.html" title="Download">
          <span class="none"></span>
        Download</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                              
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                                                                        
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
              
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>Index</h1>
<p>Mtas can produce indices for Mtas queries within the listed documents. To get this information, in Solr requests, besides the parameter to enable the <a href="search_component.html">Mtas query component</a>, the following parameter should be provided.</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.index </td>
      
<td>true </td>
      
<td>yes </td>
    </tr>
  </tbody>
</table>
<p>Index results on multiple spans can be produced within the same request. To distinguish them, a unique identifier has to be provided for each of the required indices. </p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Info </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.index.&lt;identifier&gt;.key </td>
      
<td>&lt;string&gt; </td>
      
<td>key used in response </td>
      
<td>no </td>
    </tr>
    
<tr class="a">
      
<td>mtas.index.&lt;identifier&gt;.field </td>
      
<td>&lt;string&gt; </td>
      
<td>Mtas field </td>
      
<td>yes </td>
    </tr>
    
<tr class="b">
      
<td>mtas.index.&lt;identifier&gt;.query.type </td>
      
<td>&lt;string&gt; </td>
      
<td>query language: <a href="search_cql.html">cql</a> </td>
      
<td>yes </td>
    </tr>
    
<tr class="a">
      
<td>mtas.index.&lt;identifier&gt;.query.value </td>
      
<td>&lt;string&gt; </td>
      
<td>query: <a href="search_cql.html">cql</a> </td>
      
<td>yes </td>
    </tr>
    
<tr class="b">
      
<td>mtas.index.&lt;identifier&gt;.query.prefix </td>
      
<td>&lt;string&gt; </td>
      
<td>default prefix </td>
      
<td>no </td>
    </tr>
    
<tr class="a">
      
<td>mtas.index.&lt;identifier&gt;.query.ignore </td>
      
<td>&lt;string&gt; </td>
      
<td>ignore query: <a href="search_cql.html">cql</a> </td>
      
<td>no </td>
    </tr>
    
<tr class="b">
      
<td>mtas.index.&lt;identifier&gt;.query.maximumIgnoreLength </td>
      
<td>&lt;integer&gt; </td>
      
<td>maximum number of succeeding occurrences to ignore </td>
      
<td>no </td>
    </tr>
  </tbody>
</table>
<div class="section">
<h2><a name="Variables"></a>Variables</h2>
<p>The query may contain one or more variables, and the value(s) of these variables have to be defined </p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Info </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.index.&lt;identifier&gt;.query.variable.&lt;identifier variable&gt;.name </td>
      
<td>&lt;string&gt; </td>
      
<td>name of variable </td>
      
<td>yes </td>
    </tr>
    
<tr class="a">
      
<td>mtas.index.&lt;identifier&gt;.query.variable.&lt;identifier variable&gt;.value </td>
      
<td>&lt;string&gt; </td>
      
<td>comma separated list of values </td>
      
<td>yes </td>
    </tr>
  </tbody>
</table></div>
<div class="section">
<h2><a name="Blocks"></a>Blocks</h2>
<p>The index for a document can be seen as counting the number of hits within a certain division of this document into <i>blocks</i>. Several types of such a division are possible: by number, size or query. </p>
<div class="section">
<h3><a name="Number_of_blocks"></a>Number of blocks</h3>
<p>To divide the document into a fixed number of separate blocks of equal length (as closely as possible), this number has to be provided. The size of the blocks will depend on the size of the document.</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Info </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.index.&lt;identifier&gt;.block.number </td>
      
<td>&lt;integer&gt; </td>
      
<td>number of blocks within the document </td>
      
<td>yes </td>
    </tr>
  </tbody>
</table></div>
<div class="section">
<h3><a name="Size_of_blocks"></a>Size of blocks</h3>
<p>To divide the document into separate blocks of fixed length (as far is possible), this size has to be provided. The number of blocks will depend on the size of the document.</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Info </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.index.&lt;identifier&gt;.block.size </td>
      
<td>&lt;integer&gt; </td>
      
<td>size of blocks within the document </td>
      
<td>yes </td>
    </tr>
  </tbody>
</table></div>
<div class="section">
<h3><a name="Query_based_blocks"></a>Query based blocks</h3>
<p>To divide the document into separate blocks defined by a query (other than the main query for the index), this query has to be provided. </p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Info </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.index.&lt;identifier&gt;.block.query.type </td>
      
<td>&lt;string&gt; </td>
      
<td>query language: <a href="search_cql.html">cql</a> </td>
      
<td>yes </td>
    </tr>
    
<tr class="a">
      
<td>mtas.index.&lt;identifier&gt;.block.query.value </td>
      
<td>&lt;string&gt; </td>
      
<td>query: <a href="search_cql.html">cql</a> </td>
      
<td>yes </td>
    </tr>
    
<tr class="b">
      
<td>mtas.index.&lt;identifier&gt;.block.query.prefix </td>
      
<td>&lt;string&gt; </td>
      
<td>default prefix </td>
      
<td>no </td>
    </tr>
    
<tr class="a">
      
<td>mtas.index.&lt;identifier&gt;.block.query.ignore </td>
      
<td>&lt;string&gt; </td>
      
<td>ignore query: <a href="search_cql.html">cql</a> </td>
      
<td>no </td>
    </tr>
    
<tr class="b">
      
<td>mtas.index.&lt;identifier&gt;.block.query.maximumIgnoreLength </td>
      
<td>&lt;integer&gt; </td>
      
<td>maximum number of succeeding occurrences to ignore </td>
      
<td>no </td>
    </tr>
  </tbody>
</table>
<p>And of course, this query can contain variables.</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Info </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.index.&lt;identifier&gt;.block.query.variable.&lt;identifier variable&gt;.name </td>
      
<td>&lt;string&gt; </td>
      
<td>name of variable </td>
      
<td>yes </td>
    </tr>
    
<tr class="a">
      
<td>mtas.index.&lt;identifier&gt;.block.query.variable.&lt;identifier variable&gt;.value </td>
      
<td>&lt;string&gt; </td>
      
<td>comma separated list of values </td>
      
<td>yes </td>
    </tr>
  </tbody>
</table></div></div>
<div class="section">
<h2><a name="Match"></a>Match</h2>
<p>Also because a match for the query may contain multiple positions, it can occur that a match intersects with multiple blocks. By default, a match is taken into account for this block, if it intersects. However, this behavior can be configured to containing the start position of the match, or to contain the match completely. </p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Info </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.index.&lt;identifier&gt;.match </td>
      
<td>&lt;string&gt; </td>
      
<td>&#x201c;intersect&#x201d;, &#x201c;start&#x201d;, or &#x201c;complete&#x201d; </td>
      
<td>no </td>
    </tr>
  </tbody>
</table></div>
<div class="section">
<h2><a name="List"></a>List</h2>
<p>Within a block, not only the total number of matches for the query can be listed, but also a list of grouped prefixes for these matches. Typically, this may result in words matching your query. Optionally, the size of the list can be limited by providing a maximum number. Default the list is sorted descending by frequency (count), but sorting by <i>term frequency&#x2013;inverse block frequency</i> (variant of tf-idf) can be used to emphasis block specific words.</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Info </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.index.&lt;identifier&gt;.list.prefix </td>
      
<td>&lt;string&gt; </td>
      
<td>comma separated list of prefixes </td>
      
<td>yes </td>
    </tr>
    
<tr class="a">
      
<td>mtas.index.&lt;identifier&gt;.list.number </td>
      
<td>&lt;integer&gt; </td>
      
<td>maximum number of items in the list </td>
      
<td>no </td>
    </tr>
    
<tr class="b">
      
<td>mtas.index.&lt;identifier&gt;.list.sort </td>
      
<td>&lt;string&gt; </td>
      
<td>&#x201c;index&#x201d;, &#x201c;count&#x201d;, &#x201c;tfibf&#x201d; </td>
      
<td>no </td>
    </tr>
  </tbody>
</table>
<hr /></div>
<div class="section">
<h2><a name="Examples"></a>Examples</h2>

<ol style="list-style-type: decimal">
  
<li><a href="#basic">Basic</a> : Create an index with the number of adjectives in each block.</li>
  
<li><a href="#block-number">Block number</a> : Create an index with the number of adjectives in each block</li>
  
<li><a href="#block-size">Block size</a> : Create an index with the number of adjectives in each block</li>
  
<li><a href="#block-query">Block query</a> : Create an index with the number of adjectives in each block</li>
  
<li><a href="#list">List</a> : Create an index with the number of adjectives in each block</li>
</ol>
<hr />
<p><a name="basic"></a> </p>
<div class="section">
<h3><a name="Basic"></a>Basic</h3>
<p><b>Example</b><br />Create an index with the number of adjectives in each block.</p>
<p><b>CQL</b><br /><tt>[pos=&quot;ADJ&quot;]</tt></p>
<p><b>Request and response</b><br /><tt>q=*:*&amp;mtas=true&amp;mtas.index=true&amp;mtas.index.0.field=text&amp;mtas.index.0.query.type=cql&amp;mtas.index.0.query.value=[pos=&quot;ADJ&quot;]&amp;mtas.index.0.key=adjective&amp;fl=id&amp;rows=2&amp;wt=json&amp;indent=true</tt></p>

<div class="source">
<div class="source"><pre class="prettyprint">&quot;mtas&quot;:{
    &quot;index&quot;:[{
        &quot;key&quot;:&quot;adjective&quot;,
        &quot;list&quot;:[{
            &quot;documentKey&quot;:&quot;e6a7cd11-36d3-494a-b131-eadeb2df77c4&quot;,
            &quot;documentMinPosition&quot;:0,
            &quot;documentMaxPosition&quot;:18437,
            &quot;data&quot;:[{
                &quot;positionStart&quot;:0,
                &quot;positionEnd&quot;:1843,
                &quot;number&quot;:67},
              {
                &quot;positionStart&quot;:1844,
                &quot;positionEnd&quot;:3687,
                &quot;number&quot;:38},
                ...
              {
                &quot;positionStart&quot;:16596,
                &quot;positionEnd&quot;:18437,
                &quot;number&quot;:72}]},
          {
            &quot;documentKey&quot;:&quot;447616c5-ee0d-4404-a987-73c4b43630ee&quot;,
            &quot;documentMinPosition&quot;:0,
            &quot;documentMaxPosition&quot;:186,
            &quot;data&quot;:[{
                &quot;positionStart&quot;:0,
                &quot;positionEnd&quot;:18,
                &quot;number&quot;:1},
              {
                &quot;positionStart&quot;:19,
                &quot;positionEnd&quot;:37,
                &quot;number&quot;:1}, 
                ...
              {
                &quot;positionStart&quot;:171,
                &quot;positionEnd&quot;:186,
                &quot;number&quot;:0}]}]}]}
</pre></div></div>
<p><a name="block-number"></a> </p></div>
<div class="section">
<h3><a name="Block_number"></a>Block number</h3>
<p><b>Example</b><br />Create an index with the number of adjectives in each block.</p>
<p><b>CQL</b><br /><tt>[pos=&quot;ADJ&quot;]</tt></p>
<p><b>Request and response</b><br />``</p>
<p><tt>json
</tt></p>
<p><a name="block-size"></a> </p></div>
<div class="section">
<h3><a name="Block_size"></a>Block size</h3>
<p><b>Example</b><br />Create an index with the number of adjectives in each block.</p>
<p><b>CQL</b><br /><tt>[pos=&quot;ADJ&quot;]</tt></p>
<p><b>Request and response</b><br />``</p>
<p><tt>json
</tt></p>
<p><a name="block-query"></a> </p></div>
<div class="section">
<h3><a name="Block_query"></a>Block query</h3>
<p><b>Example</b><br />Create an index with the number of adjectives in each block.</p>
<p><b>CQL</b><br /><tt>[pos=&quot;ADJ&quot;]</tt></p>
<p><b>Request and response</b><br />``</p>
<p><tt>json
</tt></p>
<p><a name="list"></a> </p></div>
<div class="section">
<h3><a name="List"></a>List</h3>
<p><b>Example</b><br />Create an index with the number of adjectives in each block.</p>
<p><b>CQL</b><br /><tt>[pos=&quot;ADJ&quot;]</tt></p>
<p><b>Request and response</b><br />``</p>
<p><tt>json
</tt></p>
<hr /></div></div>
<div class="section">
<h2><a name="Lucene"></a>Lucene</h2>
<p>To use keywords in context <a href="installation_lucene.html">directly in Lucene</a>, <i>ComponentIndex</i> together with the provided <i>collect</i> method can be used.</p></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2020
                        <a href="https://www.textexploration.org/">Text Exploration</a>.
            All rights reserved.    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
