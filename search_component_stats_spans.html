<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2019-06-05 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20190605" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Multi Tier Annotation Search &#x2013; Statistics - spans</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

                      </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>MTAS</h2>
                </div>
                      </div>
        <div class="pull-right">                  <a href="https://www.textexploration.org/" id="bannerRight">
                                                                                                <img src="images/texplo.png"  alt="Text Exploration" width="120" height="120"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                  <li id="projectVersion">Version: 8.1.1.1-SNAPSHOT
                          <span class="divider">|</span>
                    </li>
                              <li class="">
                    <a href="index.html" title="Mtas">
        Mtas</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">Statistics - spans</li>
                
              
                  <li id="publishDate" class="pull-right">Last Published: 2019-06-05</li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                    <li class="nav-header">Mtas</li>
                              
      <li>
  
                          <a href="index.html" title="Introduction">
          <span class="none"></span>
        Introduction</a>
            </li>
                
      <li>
  
                          <a href="features.html" title="Features">
          <span class="none"></span>
        Features</a>
            </li>
                                                                                                      
      <li>
  
                          <a href="installation.html" title="Getting started">
          <span class="icon-chevron-right"></span>
        Getting started</a>
                  </li>
                                                                                                                                                                                                      
      <li>
  
                          <a href="indexing.html" title="Indexing">
          <span class="icon-chevron-right"></span>
        Indexing</a>
                  </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      <li>
  
                          <a href="search.html" title="Search">
          <span class="icon-chevron-down"></span>
        Search</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="search_configuration.html" title="Configuration">
          <span class="none"></span>
        Configuration</a>
            </li>
                                                                                                                                                                                                                                                                                                                                            
      <li>
  
                          <a href="search_component.html" title="Component">
          <span class="icon-chevron-down"></span>
        Component</a>
                    <ul class="nav nav-list">
                                                                                                                    
      <li>
  
                          <a href="search_component_stats.html" title="Statistics">
          <span class="icon-chevron-down"></span>
        Statistics</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="search_component_stats_positions.html" title="Positions">
          <span class="none"></span>
        Positions</a>
            </li>
                    
      <li>
  
                          <a href="search_component_stats_tokens.html" title="Tokens">
          <span class="none"></span>
        Tokens</a>
            </li>
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>Spans</a>
          </li>
              </ul>
        </li>
                    
      <li>
  
                          <a href="search_component_heatmap.html" title="Heatmap">
          <span class="none"></span>
        Heatmap</a>
            </li>
                    
      <li>
  
                          <a href="search_component_kwic.html" title="Kwic">
          <span class="none"></span>
        Kwic</a>
            </li>
                    
      <li>
  
                          <a href="search_component_list.html" title="List">
          <span class="none"></span>
        List</a>
            </li>
                    
      <li>
  
                          <a href="search_component_page.html" title="Page">
          <span class="none"></span>
        Page</a>
            </li>
                    
      <li>
  
                          <a href="search_component_document.html" title="Document">
          <span class="none"></span>
        Document</a>
            </li>
                    
      <li>
  
                          <a href="search_component_termvector.html" title="Termvector">
          <span class="none"></span>
        Termvector</a>
            </li>
                    
      <li>
  
                          <a href="search_component_facet.html" title="Facet">
          <span class="none"></span>
        Facet</a>
            </li>
                    
      <li>
  
                          <a href="search_component_group.html" title="Group">
          <span class="none"></span>
        Group</a>
            </li>
                    
      <li>
  
                          <a href="search_component_prefix.html" title="Prefix">
          <span class="none"></span>
        Prefix</a>
            </li>
                    
      <li>
  
                          <a href="search_component_collection.html" title="Collection">
          <span class="none"></span>
        Collection</a>
            </li>
                    
      <li>
  
                          <a href="search_component_version.html" title="Version">
          <span class="none"></span>
        Version</a>
            </li>
              </ul>
        </li>
                                                                                                    
      <li>
  
                          <a href="search_parser.html" title="Parser">
          <span class="icon-chevron-down"></span>
        Parser</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="search_parser_cql.html" title="CQL query">
          <span class="none"></span>
        CQL query</a>
            </li>
                    
      <li>
  
                          <a href="search_parser_simple.html" title="Simple query">
          <span class="none"></span>
        Simple query</a>
            </li>
                    
      <li>
  
                          <a href="search_parser_join.html" title="Join query">
          <span class="none"></span>
        Join query</a>
            </li>
              </ul>
        </li>
                    
      <li>
  
                          <a href="search_handler.html" title="Handler">
          <span class="none"></span>
        Handler</a>
            </li>
                    
      <li>
  
                          <a href="search_stats.html" title="Type of statistics">
          <span class="none"></span>
        Type of statistics</a>
            </li>
                    
      <li>
  
                          <a href="search_functions.html" title="Functions">
          <span class="none"></span>
        Functions</a>
            </li>
                    
      <li>
  
                          <a href="search_cql.html" title="CQL">
          <span class="none"></span>
        CQL</a>
            </li>
                    
      <li>
  
                          <a href="search_simple.html" title="Simple">
          <span class="none"></span>
        Simple</a>
            </li>
                    
      <li>
  
                          <a href="search_sharding.html" title="Sharding">
          <span class="none"></span>
        Sharding</a>
            </li>
              </ul>
        </li>
                
      <li>
  
                          <a href="download.html" title="Download">
          <span class="none"></span>
        Download</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                              
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                                                                        
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
              
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>Statistics - spans</h1>
<p>To get statistics on the occurrence of a span within a set of documents in Solr requests, besides the parameter to enable <a href="search_component_stats.html">statistics</a>, the following parameter should be provided.</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.stats.spans </td>
      
<td>true </td>
      
<td>yes </td>
    </tr>
  </tbody>
</table>
<p>Multiple statistics on the occurrence of a span can be produced within the same request. To distinguish them, a unique identifier has to be provided for each of the required statistics. Furthermore, statistics for the occurrence of multiple spans can be produced. Spans are described by a query, and to distinguish multiple spans, also a query identifier has to be provided. </p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Info </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.stats.spans.&lt;identifier&gt;.key </td>
      
<td>&lt;string&gt; </td>
      
<td>key used in response </td>
      
<td>no </td>
    </tr>
    
<tr class="a">
      
<td>mtas.stats.spans.&lt;identifier&gt;.field </td>
      
<td>&lt;string&gt; </td>
      
<td>Mtas field </td>
      
<td>yes </td>
    </tr>
    
<tr class="b">
      
<td>mtas.stats.spans.&lt;identifier&gt;.query.&lt;identifier query&gt;.type </td>
      
<td>&lt;string&gt; </td>
      
<td>query language: <a href="search_cql.html">cql</a> </td>
      
<td>yes </td>
    </tr>
    
<tr class="a">
      
<td>mtas.stats.spans.&lt;identifier&gt;.query.&lt;identifier query&gt;.value </td>
      
<td>&lt;string&gt; </td>
      
<td>query: <a href="search_cql.html">cql</a> </td>
      
<td>yes </td>
    </tr>
    
<tr class="b">
      
<td>mtas.stats.spans.&lt;identifier&gt;.query.&lt;identifier query&gt;.prefix </td>
      
<td>&lt;string&gt; </td>
      
<td>default prefix </td>
      
<td>no </td>
    </tr>
    
<tr class="a">
      
<td>mtas.stats.spans.&lt;identifier&gt;.query.&lt;identifier query&gt;.ignore </td>
      
<td>&lt;string&gt; </td>
      
<td>ignore query: <a href="search_cql.html">cql</a> </td>
      
<td>no </td>
    </tr>
    
<tr class="b">
      
<td>mtas.stats.spans.&lt;identifier&gt;.query.&lt;identifier query&gt;.maximumIgnoreLength </td>
      
<td>&lt;integer&gt; </td>
      
<td>maximum number of succeeding occurrences to ignore </td>
      
<td>no </td>
    </tr>
    
<tr class="a">
      
<td>mtas.stats.spans.&lt;identifier&gt;.type </td>
      
<td>&lt;string&gt; </td>
      
<td>required <a href="search_stats.html">type of statistics</a> </td>
      
<td>no </td>
    </tr>
    
<tr class="b">
      
<td>mtas.stats.spans.&lt;identifier&gt;.minimum </td>
      
<td>&lt;double&gt; </td>
      
<td>minimum number of occurrences span </td>
      
<td>no </td>
    </tr>
    
<tr class="a">
      
<td>mtas.stats.spans.&lt;identifier&gt;.maximum </td>
      
<td>&lt;double&gt; </td>
      
<td>maximum number of occurrences span </td>
      
<td>no </td>
    </tr>
  </tbody>
</table>
<p>The <i>key</i> is added to the response and may be used to distinguish between multiple statistics on the occurrence of spans, and should therefore be unique. The optional <i>minimum</i> and <i>maximum</i> can be used to focus only on documents satisfying a condition on the number of occurrences of the spans. When multiple queries are provided, the provided boundary will hold on the sum of occurrences of the resulting spans.</p>
<div class="section">
<h2><a name="Variables"></a>Variables</h2>
<p>The query may contain one or more variables, and the value(s) of these variables have to be defined </p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Info </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.stats.spans.&lt;identifier&gt;.query.&lt;identifier query&gt;.variable.&lt;identifier variable&gt;.name </td>
      
<td>&lt;string&gt; </td>
      
<td>name of variable </td>
      
<td>yes </td>
    </tr>
    
<tr class="a">
      
<td>mtas.stats.spans.&lt;identifier&gt;.query.&lt;identifier query&gt;.variable.&lt;identifier variable&gt;.value </td>
      
<td>&lt;string&gt; </td>
      
<td>comma separated list of values </td>
      
<td>yes </td>
    </tr>
  </tbody>
</table></div>
<div class="section">
<h2><a name="Functions"></a>Functions</h2>
<p>To compute statistics for values based on the occurrence of one or multiple spans, optionally <a href="search_functions.html">functions</a> can be added. The parameters for these functions are the number of occurrences <i>$q0</i>, <i>$q1</i>, &#x2026; for each span and the number of positions <i>$n</i> in a document. Statistics on the value computed for each document in the set are added to the response.</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Info </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.stats.spans.&lt;identifier&gt;.function.&lt;identifier function&gt;.key </td>
      
<td>&lt;string&gt; </td>
      
<td>key used in response </td>
      
<td>no </td>
    </tr>
    
<tr class="a">
      
<td>mtas.stats.spans.&lt;identifier&gt;.function.&lt;identifier function&gt;.expression </td>
      
<td>&lt;string&gt; </td>
      
<td>see <a href="search_functions.html">functions</a> </td>
      
<td>yes </td>
    </tr>
    
<tr class="b">
      
<td>mtas.stats.spans.&lt;identifier&gt;.function.&lt;identifier function&gt;.type </td>
      
<td>&lt;string&gt; </td>
      
<td>required <a href="search_stats.html">type of statistics</a> </td>
      
<td>no </td>
    </tr>
  </tbody>
</table>
<p>Again, the <i>key</i> is added to the response and may be used to distinguish between multiple functions, and should therefore be unique.</p>
<hr /></div>
<div class="section">
<h2><a name="Examples"></a>Examples</h2>

<ol style="list-style-type: decimal">
  
<li><a href="#basic">Basic</a> : basic statistics on the occurrence of a word.</li>
  
<li><a href="#minimum-and-maximum">Minimum and Maximum</a> : statistics on the occurrence of a word with restrictions on the number of occurrences.</li>
  
<li><a href="#subset">Subset</a> : statistics on the occurrence of a word within a subset of documents.</li>
  
<li><a href="#multiple">Multiple</a> : statistics on the occurrence of multiple words.</li>
  
<li><a href="#prefix">Prefix</a> : default prefix for query</li>
  
<li><a href="#ignore">Ignore</a> : query with ignore</li>
  
<li><a href="#ignore-and-maximumignorelength">Ignore and maximumIgnoreLength</a> : query with ignore and maximumIgnoreLength</li>
  
<li><a href="#functions">Functions</a> : statistics using functions.</li>
  
<li><a href="#multiple-and-functions">Multiple and Functions</a> : statistics using functions on the occurrence of multiple words.</li>
</ol>
<hr />
<p><a name="basic"></a> </p>
<div class="section">
<h3><a name="Basic"></a>Basic</h3>
<p><b>Example</b><br />Total and average number of occurrences of the word &#x201c;de&#x201d; and the number of documents.</p>
<p><b>CQL</b><br /><tt>[t=&quot;de&quot;]</tt></p>
<p><b>Request and response</b><br /><tt>q=*%3A*&amp;mtas=true&amp;mtas.stats=true&amp;mtas.stats.spans=true&amp;mtas.stats.spans.0.field=text&amp;mtas.stats.spans.0.query.0.type=cql&amp;mtas.stats.spans.0.query.0.value=%5Bt%3D%22de%22%5D&amp;mtas.stats.spans.0.key=example - basic&amp;mtas.stats.spans.0.type=n%2Csum%2Cmean&amp;rows=0&amp;wt=json&amp;indent=true</tt></p>

<div class="source">
<div class="source"><pre class="prettyprint">&quot;mtas&quot;:{
    &quot;stats&quot;:{
      &quot;spans&quot;:[{
          &quot;key&quot;:&quot;example - basic&quot;,
          &quot;mean&quot;:10.488239100197209,
          &quot;sum&quot;:21656200,
          &quot;n&quot;:2064808}]}}
</pre></div></div>
<p><a name="minimum-and-maximum"></a></p></div>
<div class="section">
<h3><a name="Minimum_and_Maximum"></a>Minimum and Maximum</h3>
<p><b>Example</b><br />Full statistics on the number of occurrences of the word &#x201c;de&#x201d; for documents with a minimum of 100 occurrences, for documents with a maximum of 200 occurrences, and for documents with between 100 and 200 occurrences.</p>
<p><b>CQL</b><br /><tt>[t=&quot;de&quot;]</tt></p>
<p><b>Request and response</b><br /><tt>q=*%3A*&amp;mtas=true&amp;mtas.stats=true&amp;mtas.stats.spans=true&amp;mtas.stats.spans.0.field=text&amp;mtas.stats.spans.0.query.0.type=cql&amp;mtas.stats.spans.0.query.0.value=[t%3D&quot;de&quot;]&amp;mtas.stats.spans.0.key=example - minimum&amp;mtas.stats.spans.0.type=all&amp;mtas.stats.spans.0.minimum=100&amp;mtas.stats.spans.1.field=text&amp;mtas.stats.spans.1.query.0.type=cql&amp;mtas.stats.spans.1.query.0.value=[t%3D&quot;de&quot;]&amp;mtas.stats.spans.1.key=example - maximum&amp;mtas.stats.spans.1.type=all&amp;mtas.stats.spans.1.maximum=200&amp;mtas.stats.spans.2.field=text&amp;mtas.stats.spans.2.query.0.type=cql&amp;mtas.stats.spans.2.query.0.value=[t%3D&quot;de&quot;]&amp;mtas.stats.spans.2.key=example - minimum and maximum&amp;mtas.stats.spans.2.type=all&amp;mtas.stats.spans.2.minimum=100&amp;mtas.stats.spans.2.maximum=200&amp;rows=0&amp;wt=json&amp;indent=true</tt></p>

<div class="source">
<div class="source"><pre class="prettyprint">&quot;mtas&quot;:{
    &quot;stats&quot;:{
      &quot;spans&quot;:[{
          &quot;key&quot;:&quot;example - minimum&quot;,
          &quot;sumsq&quot;:8.697655383E9,
          &quot;populationvariance&quot;:419224.862744871,
          &quot;max&quot;:18192.0,
          &quot;sum&quot;:4531747.0,
          &quot;kurtosis&quot;:164.01633761739456,
          &quot;standarddeviation&quot;:647.4937185426337,
          &quot;n&quot;:18030,
          &quot;quadraticmean&quot;:694.5495506941058,
          &quot;min&quot;:100.0,
          &quot;median&quot;:136.0,
          &quot;variance&quot;:419248.1155521673,
          &quot;mean&quot;:251.3448141985584,
          &quot;geometricmean&quot;:160.50112302303313,
          &quot;sumoflogs&quot;:91561.76594051626,
          &quot;skewness&quot;:10.552060273112971},
        {
          &quot;key&quot;:&quot;example - maximum&quot;,
          &quot;sumsq&quot;:7.37391079E8,
          &quot;populationvariance&quot;:271.8217238864797,
          &quot;max&quot;:200.0,
          &quot;sum&quot;:1.9102393E7,
          &quot;kurtosis&quot;:31.734626574581217,
          &quot;standarddeviation&quot;:16.487020826545898,
          &quot;n&quot;:2061623,
          &quot;quadraticmean&quot;:18.91229851589547,
          &quot;min&quot;:0.0,
          &quot;median&quot;:4.0,
          &quot;variance&quot;:271.82185573495815,
          &quot;mean&quot;:9.265706193615522,
          &quot;geometricmean&quot;:0.0,
          &quot;sumoflogs&quot;:&quot;-Infinity&quot;,
          &quot;skewness&quot;:4.741031505227169},
        {
          &quot;key&quot;:&quot;example - minimum and maximum&quot;,
          &quot;sumsq&quot;:2.73698488E8,
          &quot;populationvariance&quot;:684.3248008017308,
          &quot;max&quot;:200.0,
          &quot;sum&quot;:1977940.0,
          &quot;kurtosis&quot;:-0.47377181206297303,
          &quot;standarddeviation&quot;:26.16048359466255,
          &quot;n&quot;:14845,
          &quot;quadraticmean&quot;:135.78321834689768,
          &quot;min&quot;:100.0,
          &quot;median&quot;:127.0,
          &quot;variance&quot;:684.3709019066084,
          &quot;mean&quot;:133.23947457056252,
          &quot;geometricmean&quot;:130.83072059647412,
          &quot;sumoflogs&quot;:72353.10901272473,
          &quot;skewness&quot;:0.7177265003819447}]}}
</pre></div></div>
<p><a name="subset"></a> </p></div>
<div class="section">
<h3><a name="Subset"></a>Subset</h3>
<p><b>Example</b><br />Total and average number of occurrences of the word &#x201c;de&#x201d; and the number of documents for a subset of documents.</p>
<p><b>CQL</b><br /><tt>[t=&quot;de&quot;]</tt></p>
<p><b>Request and response</b><br /><tt>q=text:koe&amp;rows=0&amp;mtas=true&amp;mtas.stats=true&amp;mtas.stats.tokens=true&amp;mtas.stats.tokens.0.field=text&amp;mtas.stats.tokens.0.key=example - subset&amp;mtas.stats.tokens.0.type=sum,mean,n&amp;wt=json&amp;indent=true</tt></p>

<div class="source">
<div class="source"><pre class="prettyprint">&quot;mtas&quot;:{
    &quot;stats&quot;:{
      &quot;tokens&quot;:[{
          &quot;key&quot;:&quot;example - subset&quot;,
          &quot;mean&quot;:42901.60996309963,
          &quot;sum&quot;:116263363,
          &quot;n&quot;:2710}]}}
</pre></div></div>
<p><a name="multiple"></a> </p></div>
<div class="section">
<h3><a name="Multiple"></a>Multiple</h3>
<p><b>Example</b><br />Total and average number of occurrences of the word &#x201c;de&#x201d; and &#x201c;het&#x201d;, and the number of documents.</p>
<p><b>CQL</b><br />1. combined cql: <tt>[t=&quot;de&quot;|t=&quot;het&quot;]</tt><br />2. combined regexp: <tt>[t=&quot;(de|het)&quot;]</tt><br />3. two queries: <tt>[t=&quot;de&quot;]</tt> <tt>[t=&quot;het&quot;]</tt></p>
<p><b>Request and response</b><br /><tt>q=*%3A*&amp;mtas=true&amp;mtas.stats=true&amp;mtas.stats.spans=true&amp;mtas.stats.spans.0.field=text&amp;mtas.stats.spans.0.query.0.type=cql&amp;mtas.stats.spans.0.query.0.value=[t%3D&quot;de&quot;|t%3D&quot;het&quot;]&amp;mtas.stats.spans.0.key=multiple+-+combined+cql&amp;mtas.stats.spans.0.type=n%2Csum%2Cmean&amp;mtas.stats.spans.1.field=text&amp;mtas.stats.spans.1.query.0.type=cql&amp;mtas.stats.spans.1.query.0.value=[t%3D&quot;(de|het)&quot;]&amp;mtas.stats.spans.1.key=multiple+-+combined+regexp&amp;mtas.stats.spans.1.type=n%2Csum%2Cmean&amp;mtas.stats.spans.2.field=text&amp;mtas.stats.spans.2.query.0.type=cql&amp;mtas.stats.spans.2.query.0.value=[t%3D&quot;de&quot;]&amp;mtas.stats.spans.2.query.1.type=cql&amp;mtas.stats.spans.2.query.1.value=[t%3D&quot;het&quot;]&amp;mtas.stats.spans.2.key=multiple+-+two+queries&amp;mtas.stats.spans.2.type=n%2Csum%2Cmean&amp;rows=0&amp;wt=json&amp;indent=true</tt></p>

<div class="source">
<div class="source"><pre class="prettyprint">&quot;mtas&quot;:{
    &quot;stats&quot;:{
      &quot;spans&quot;:[{
          &quot;key&quot;:&quot;multiple - combined cql&quot;,
          &quot;mean&quot;:15.178130848001365,
          &quot;sum&quot;:31339926,
          &quot;n&quot;:2064808},
        {
          &quot;key&quot;:&quot;multiple - combined regexp&quot;,
          &quot;mean&quot;:15.178130848001365,
          &quot;sum&quot;:31339926,
          &quot;n&quot;:2064808},
        {
          &quot;key&quot;:&quot;multiple - two queries&quot;,
          &quot;mean&quot;:15.178130848001365,
          &quot;sum&quot;:31339926,
          &quot;n&quot;:2064808}]}}
</pre></div></div>
<p><a name="prefix"></a> </p></div>
<div class="section">
<h3><a name="Prefix"></a>Prefix</h3>
<p><b>Example</b><br />Total and average number of occurrences of the word &#x201c;de&#x201d; followed by an adjective.</p>
<p><b>CQL</b><br /><tt>&quot;de&quot; [pos=&quot;ADJ&quot;]</tt></p>
<p><b>Request and response</b><br /><tt>q=*%3A*&amp;mtas=true&amp;mtas.stats=true&amp;mtas.stats.spans=true&amp;mtas.stats.spans.0.field=text&amp;mtas.stats.spans.0.query.0.type=cql&amp;mtas.stats.spans.0.query.0.value=&quot;de&quot; [pos%3D&quot;ADJ&quot;]&amp;mtas.stats.spans.0.query.0.prefix=t_lc&amp;mtas.stats.spans.0.key=example - prefix&amp;mtas.stats.spans.0.type=n%2Csum%2Cmean&amp;rows=0&amp;wt=json&amp;indent=true</tt></p>

<div class="source">
<div class="source"><pre class="prettyprint">&quot;mtas&quot;:{
    &quot;stats&quot;:{
      &quot;spans&quot;:[{
          &quot;key&quot;:&quot;example - prefix&quot;,
          &quot;mean&quot;:2.1725308115815127,
          &quot;sum&quot;:4485859,
          &quot;n&quot;:2064808}]}}
</pre></div></div>
<p><a name="ignore"></a> </p></div>
<div class="section">
<h3><a name="Ignore"></a>Ignore</h3>
<p><b>Example</b><br />Total and average number of occurrences of an article followed by a noun, ignoring adjectives.</p>
<p><b>CQL</b><br /><tt>[pos=&quot;LID&quot;][pos=&quot;N&quot;]</tt></p>
<p><b>Ignore</b> <tt>[pos=&quot;ADJ&quot;]</tt></p>
<p><b>Request and response</b><br /><tt>q=*%3A*&amp;mtas=true&amp;mtas.stats=true&amp;mtas.stats.spans=true&amp;mtas.stats.spans.0.field=text&amp;mtas.stats.spans.0.query.0.type=cql&amp;mtas.stats.spans.0.query.0.value=[t_lc%3D&quot;de&quot;]&amp;mtas.stats.spans.0.key=functions+-+de&amp;mtas.stats.spans.0.type=n%2Csum%2Cmean&amp;mtas.stats.spans.0.function.0.expression=%24q0%2F%24n&amp;mtas.stats.spans.0.function.0.key=relative+frequency&amp;mtas.stats.spans.0.function.0.type=mean%2Cstandarddeviation%2Cdistribution(start%3D0%2Cend%3D0.1%2Cnumber%3D10)&amp;mtas.stats.spans.0.function.1.expression=%24n&amp;mtas.stats.spans.0.function.1.key=number+of+words&amp;mtas.stats.spans.0.function.1.type=n%2Csum&amp;rows=0&amp;wt=json&amp;indent=true</tt></p>

<div class="source">
<div class="source"><pre class="prettyprint">&quot;mtas&quot;:{
    &quot;stats&quot;:{
      &quot;spans&quot;:[{
          &quot;key&quot;:&quot;functions - de&quot;,
          &quot;mean&quot;:12.352043386116287,
          &quot;sum&quot;:25504598,
          &quot;n&quot;:2064808,
          &quot;functions&quot;:{
            &quot;number of words&quot;:{
              &quot;sum&quot;:504361094,
              &quot;n&quot;:2064808},
            &quot;relative frequency&quot;:{
              &quot;distribution(start=0,end=0.1,number=10)&quot;:{
                &quot;[0.000,0.010)&quot;:390003,
                &quot;[0.010,0.020)&quot;:120903,
                &quot;[0.020,0.030)&quot;:173830,
                &quot;[0.030,0.040)&quot;:209994,
                &quot;[0.040,0.050)&quot;:245098,
                &quot;[0.050,0.060)&quot;:253528,
                &quot;[0.060,0.070)&quot;:218325,
                &quot;[0.070,0.080)&quot;:163982,
                &quot;[0.080,0.090)&quot;:115929,
                &quot;[0.090,0.100)&quot;:77207},
              &quot;mean&quot;:0.04538673326024501,
              &quot;errorList&quot;:{&quot;division by zero&quot;:1039},
              &quot;standarddeviation&quot;:0.03284884758453086,
              &quot;errorNumber&quot;:1039}}}]}}
</pre></div></div>
<p><a name="ignore-and-maximumignorelength"></a> </p></div>
<div class="section">
<h3><a name="Ignore_and_maximumIgnoreLength"></a>Ignore and maximumIgnoreLength</h3>
<p><a name="functions"></a> </p></div>
<div class="section">
<h3><a name="Functions"></a>Functions</h3>
<p><b>Example</b><br />Statistics for the relative frequency of the word &#x201c;de&#x201d; and the total number of words in documents containing this word.</p>
<p><b>CQL</b><br /><tt>[t=&quot;de&quot;]</tt></p>
<p><b>Functions</b><br /><tt>$q0/$n</tt><br /><tt>$n</tt></p>
<p><b>Request and response</b><br /><tt>q=*%3A*&amp;mtas=true&amp;mtas.stats=true&amp;mtas.stats.spans=true&amp;mtas.stats.spans.0.field=text&amp;mtas.stats.spans.0.query.0.type=cql&amp;mtas.stats.spans.0.query.0.value=[t_lc%3D&quot;de&quot;]&amp;mtas.stats.spans.0.key=functions+-+de&amp;mtas.stats.spans.0.type=n%2Csum%2Cmean&amp;mtas.stats.spans.0.function.0.expression=%24q0%2F%24n&amp;mtas.stats.spans.0.function.0.key=relative+frequency&amp;mtas.stats.spans.0.function.0.type=mean%2Cstandarddeviation%2Cdistribution(start%3D0%2Cend%3D0.1%2Cnumber%3D10)&amp;mtas.stats.spans.0.function.1.expression=%24n&amp;mtas.stats.spans.0.function.1.key=number+of+words&amp;mtas.stats.spans.0.function.1.type=n%2Csum&amp;rows=0&amp;wt=json&amp;indent=true</tt></p>

<div class="source">
<div class="source"><pre class="prettyprint">&quot;mtas&quot;:{
    &quot;stats&quot;:{
      &quot;spans&quot;:[{
          &quot;key&quot;:&quot;functions - de&quot;,
          &quot;mean&quot;:12.352043386116287,
          &quot;sum&quot;:25504598,
          &quot;n&quot;:2064808,
          &quot;functions&quot;:{
            &quot;number of words&quot;:{
              &quot;sum&quot;:504361094,
              &quot;n&quot;:2064808},
            &quot;relative frequency&quot;:{
              &quot;distribution(start=0,end=0.1,number=10)&quot;:{
                &quot;[0.000,0.010)&quot;:390003,
                &quot;[0.010,0.020)&quot;:120903,
                &quot;[0.020,0.030)&quot;:173830,
                &quot;[0.030,0.040)&quot;:209994,
                &quot;[0.040,0.050)&quot;:245098,
                &quot;[0.050,0.060)&quot;:253528,
                &quot;[0.060,0.070)&quot;:218325,
                &quot;[0.070,0.080)&quot;:163982,
                &quot;[0.080,0.090)&quot;:115929,
                &quot;[0.090,0.100)&quot;:77207},
              &quot;mean&quot;:0.04538673326024501,
              &quot;errorList&quot;:{&quot;division by zero&quot;:1039},
              &quot;standarddeviation&quot;:0.03284884758453086,
              &quot;errorNumber&quot;:1039}}}]}}
</pre></div></div>
<p><a name="multiple-and-functions"></a> </p></div>
<div class="section">
<h3><a name="Multiple_and_Functions"></a>Multiple and Functions</h3>
<p><b>Example</b><br />Statistics for the absolute and relative frequency of the words &#x201c;de&#x201d;, &#x201c;het&#x201d; and &#x201c;een&#x201d;, for <i>part of speech</i> type &#x201c;LID&#x201d; and the total number of words in documents containing this word.</p>
<p><b>CQL</b><br /><tt>[t=&quot;de&quot;]</tt><br /><tt>[t=&quot;het&quot;]</tt><br /><tt>[t=&quot;een&quot;]</tt><br /><tt>[pos=&quot;LID&quot;]</tt></p>
<p><b>Functions</b><br /><tt>$q0/$n</tt><br /><tt>$q1/$n</tt><br /><tt>$q2/$n</tt><br /><tt>$q3/$n</tt><br /><tt>$q0/$q3</tt><br /><tt>$q1/$q3</tt><br /><tt>$q2/$q3</tt><br /><tt>($q0+$q1+$q2)/$q3</tt> </p>
<p><b>Request and response</b><br /><tt>q=*%3A*&amp;mtas=true&amp;mtas.stats=true&amp;mtas.stats.spans=true&amp;mtas.stats.spans.0.field=text&amp;mtas.stats.spans.0.query.0.type=cql&amp;mtas.stats.spans.0.query.0.value=[t_lc%3D&quot;de&quot;]&amp;mtas.stats.spans.0.query.1.type=cql&amp;mtas.stats.spans.0.query.1.value=[t_lc%3D&quot;het&quot;]&amp;mtas.stats.spans.0.query.2.type=cql&amp;mtas.stats.spans.0.query.2.value=[t_lc%3D&quot;een&quot;]&amp;mtas.stats.spans.0.query.3.type=cql&amp;mtas.stats.spans.0.query.3.value=[pos%3D&quot;LID&quot;]&amp;mtas.stats.spans.0.key=multiple+and+functions+-+de%2Bhet%2Been+and+LID&amp;mtas.stats.spans.0.type=n&amp;mtas.stats.spans.0.minimum=1&amp;mtas.stats.spans.0.function.0.expression=%24q0&amp;mtas.stats.spans.0.function.0.key=de+-+absolute&amp;mtas.stats.spans.0.function.0.type=n%2Csum&amp;mtas.stats.spans.0.function.1.expression=%24q1&amp;mtas.stats.spans.0.function.1.key=het+-+absolute&amp;mtas.stats.spans.0.function.1.type=n%2Csum&amp;mtas.stats.spans.0.function.2.expression=%24q2&amp;mtas.stats.spans.0.function.2.key=een+-+absolute&amp;mtas.stats.spans.0.function.2.type=n%2Csum&amp;mtas.stats.spans.0.function.3.expression=%24q3&amp;mtas.stats.spans.0.function.3.key=LID+-+absolute&amp;mtas.stats.spans.0.function.3.type=n%2Csum&amp;mtas.stats.spans.0.function.4.expression=%24q0%2F%24n&amp;mtas.stats.spans.0.function.4.key=de+-+relative+to+positions&amp;mtas.stats.spans.0.function.4.type=n%2Cmean&amp;mtas.stats.spans.0.function.5.expression=%24q1%2F%24n&amp;mtas.stats.spans.0.function.5.key=het+-+relative+to+positions&amp;mtas.stats.spans.0.function.5.type=n%2Cmean&amp;mtas.stats.spans.0.function.6.expression=%24q2%2F%24n&amp;mtas.stats.spans.0.function.6.key=een+-+relative+to+positions&amp;mtas.stats.spans.0.function.6.type=n%2Cmean&amp;mtas.stats.spans.0.function.7.expression=%24q3%2F%24n&amp;mtas.stats.spans.0.function.7.key=LID+-+relative+to+positions&amp;mtas.stats.spans.0.function.7.type=n%2Cmean&amp;mtas.stats.spans.0.function.8.expression=%24q0%2F%24q3&amp;mtas.stats.spans.0.function.8.key=de+-+relative+to+LID&amp;mtas.stats.spans.0.function.8.type=n%2Cmean&amp;mtas.stats.spans.0.function.9.expression=%24q1%2F%24q3&amp;mtas.stats.spans.0.function.9.key=het+-+relative+to+LID&amp;mtas.stats.spans.0.function.9.type=n%2Cmean&amp;mtas.stats.spans.0.function.10.expression=%24q2%2F%24q3&amp;mtas.stats.spans.0.function.10.key=een+-+relative+to+LID&amp;mtas.stats.spans.0.function.10.type=n%2Cmean&amp;mtas.stats.spans.0.function.11.expression=(%24q0%2B%24q1%2B%24q2)%2F%24q3&amp;mtas.stats.spans.0.function.11.key=de%2Bhet%2Been+-+relative+to+LID&amp;mtas.stats.spans.0.function.11.type=n%2Cmean&amp;rows=0&amp;wt=json&amp;indent=true</tt></p>

<div class="source">
<div class="source"><pre class="prettyprint">&quot;mtas&quot;:{
    &quot;stats&quot;:{
      &quot;spans&quot;:[{
          &quot;key&quot;:&quot;multiple and functions - de+het+een and LID&quot;,
          &quot;n&quot;:1890377,
          &quot;functions&quot;:{
            &quot;een - relative to LID&quot;:{
              &quot;mean&quot;:0.26177400695591124,
              &quot;errorList&quot;:{&quot;division by zero&quot;:24175},
              &quot;n&quot;:1890377,
              &quot;errorNumber&quot;:24175},
            &quot;LID - absolute&quot;:{
              &quot;sum&quot;:44077220,
              &quot;n&quot;:1890377},
            &quot;de+het+een - relative to LID&quot;:{
              &quot;mean&quot;:1.0864079360130154,
              &quot;errorList&quot;:{&quot;division by zero&quot;:24175},
              &quot;n&quot;:1890377,
              &quot;errorNumber&quot;:24175},
            &quot;het - relative to LID&quot;:{
              &quot;mean&quot;:0.2740826070638114,
              &quot;errorList&quot;:{&quot;division by zero&quot;:24175},
              &quot;n&quot;:1890377,
              &quot;errorNumber&quot;:24175},
            &quot;een - relative to positions&quot;:{
              &quot;mean&quot;:0.021631171906706374,
              &quot;n&quot;:1890377},
            &quot;een - absolute&quot;:{
              &quot;sum&quot;:10620744,
              &quot;n&quot;:1890377},
            &quot;het - relative to positions&quot;:{
              &quot;mean&quot;:0.02235754528581941,
              &quot;n&quot;:1890377},
            &quot;de - absolute&quot;:{
              &quot;sum&quot;:25504598,
              &quot;n&quot;:1890377},
            &quot;het - absolute&quot;:{
              &quot;sum&quot;:11530937,
              &quot;n&quot;:1890377},
            &quot;LID - relative to positions&quot;:{
              &quot;mean&quot;:0.08693980190126971,
              &quot;n&quot;:1890377},
            &quot;de - relative to LID&quot;:{
              &quot;mean&quot;:0.5505513219945993,
              &quot;errorList&quot;:{&quot;division by zero&quot;:24175},
              &quot;n&quot;:1890377,
              &quot;errorNumber&quot;:24175},
            &quot;de - relative to positions&quot;:{
              &quot;mean&quot;:0.049574709134571515,
              &quot;n&quot;:1890377}}}]}}
</pre></div></div>
<hr /></div></div>
<div class="section">
<h2><a name="Lucene"></a>Lucene</h2>
<p>To use statistics on the occurrence of a span <a href="installation_lucene.html">directly in Lucene</a>, <i>ComponentSpan</i> together with the provided <i>collect</i> method can be used. </p></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2019
                        <a href="https://www.textexploration.org/">Text Exploration</a>.
            All rights reserved.    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
