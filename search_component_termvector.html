<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2020-09-24 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20200924" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Multi Tier Annotation Search &#x2013; Termvector</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

                      </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>MTAS</h2>
                </div>
                      </div>
        <div class="pull-right">                  <a href="https://www.textexploration.org/" id="bannerRight">
                                                                                                <img src="images/texplo.png"  alt="Text Exploration" width="120" height="120"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                  <li id="projectVersion">Version: 8.6.1.1-SNAPSHOT
                          <span class="divider">|</span>
                    </li>
                              <li class="">
                    <a href="index.html" title="Mtas">
        Mtas</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">Termvector</li>
                
              
                  <li id="publishDate" class="pull-right">Last Published: 2020-09-24</li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                    <li class="nav-header">Mtas</li>
                              
      <li>
  
                          <a href="index.html" title="Introduction">
          <span class="none"></span>
        Introduction</a>
            </li>
                
      <li>
  
                          <a href="features.html" title="Features">
          <span class="none"></span>
        Features</a>
            </li>
                                                                                                      
      <li>
  
                          <a href="installation.html" title="Getting started">
          <span class="icon-chevron-right"></span>
        Getting started</a>
                  </li>
                                                                                                                                                                                                      
      <li>
  
                          <a href="indexing.html" title="Indexing">
          <span class="icon-chevron-right"></span>
        Indexing</a>
                  </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
      <li>
  
                          <a href="search.html" title="Search">
          <span class="icon-chevron-down"></span>
        Search</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="search_configuration.html" title="Configuration">
          <span class="none"></span>
        Configuration</a>
            </li>
                                                                                                                                                                                                                                                                                                                                                              
      <li>
  
                          <a href="search_component.html" title="Component">
          <span class="icon-chevron-down"></span>
        Component</a>
                    <ul class="nav nav-list">
                                                                                                          
      <li>
  
                          <a href="search_component_stats.html" title="Statistics">
          <span class="icon-chevron-right"></span>
        Statistics</a>
                  </li>
                    
      <li>
  
                          <a href="search_component_heatmap.html" title="Heatmap">
          <span class="none"></span>
        Heatmap</a>
            </li>
                    
      <li>
  
                          <a href="search_component_kwic.html" title="Kwic">
          <span class="none"></span>
        Kwic</a>
            </li>
                    
      <li>
  
                          <a href="search_component_index.html" title="Index">
          <span class="none"></span>
        Index</a>
            </li>
                    
      <li>
  
                          <a href="search_component_list.html" title="List">
          <span class="none"></span>
        List</a>
            </li>
                    
      <li>
  
                          <a href="search_component_page.html" title="Page">
          <span class="none"></span>
        Page</a>
            </li>
                    
      <li>
  
                          <a href="search_component_document.html" title="Document">
          <span class="none"></span>
        Document</a>
            </li>
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>Termvector</a>
          </li>
                    
      <li>
  
                          <a href="search_component_facet.html" title="Facet">
          <span class="none"></span>
        Facet</a>
            </li>
                    
      <li>
  
                          <a href="search_component_group.html" title="Group">
          <span class="none"></span>
        Group</a>
            </li>
                    
      <li>
  
                          <a href="search_component_prefix.html" title="Prefix">
          <span class="none"></span>
        Prefix</a>
            </li>
                    
      <li>
  
                          <a href="search_component_collection.html" title="Collection">
          <span class="none"></span>
        Collection</a>
            </li>
                    
      <li>
  
                          <a href="search_component_version.html" title="Version">
          <span class="none"></span>
        Version</a>
            </li>
              </ul>
        </li>
                                                                                                    
      <li>
  
                          <a href="search_parser.html" title="Parser">
          <span class="icon-chevron-down"></span>
        Parser</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="search_parser_cql.html" title="CQL query">
          <span class="none"></span>
        CQL query</a>
            </li>
                    
      <li>
  
                          <a href="search_parser_simple.html" title="Simple query">
          <span class="none"></span>
        Simple query</a>
            </li>
                    
      <li>
  
                          <a href="search_parser_join.html" title="Join query">
          <span class="none"></span>
        Join query</a>
            </li>
              </ul>
        </li>
                    
      <li>
  
                          <a href="search_handler.html" title="Handler">
          <span class="none"></span>
        Handler</a>
            </li>
                    
      <li>
  
                          <a href="search_stats.html" title="Type of statistics">
          <span class="none"></span>
        Type of statistics</a>
            </li>
                    
      <li>
  
                          <a href="search_functions.html" title="Functions">
          <span class="none"></span>
        Functions</a>
            </li>
                    
      <li>
  
                          <a href="search_cql.html" title="CQL">
          <span class="none"></span>
        CQL</a>
            </li>
                    
      <li>
  
                          <a href="search_simple.html" title="Simple">
          <span class="none"></span>
        Simple</a>
            </li>
                    
      <li>
  
                          <a href="search_sharding.html" title="Sharding">
          <span class="none"></span>
        Sharding</a>
            </li>
              </ul>
        </li>
                
      <li>
  
                          <a href="download.html" title="Download">
          <span class="none"></span>
        Download</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                              
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                                                                        
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
              
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>Termvector</h1>
<p>Mtas can produce termvectors for the set of documents satisfying the condition and/or filter. To get this information, in Solr requests, besides the parameter to enable the <a href="search_component.html">Mtas query component</a>, the following parameter should be provided.</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.termvector </td>
      
<td>true </td>
      
<td>yes </td>
    </tr>
  </tbody>
</table>
<p>Multiple termvector results can be produced within the same request. To distinguish them, a unique identifier has to be provided for each of the required document results.</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Info </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.termvector.&lt;identifier&gt;.key </td>
      
<td>&lt;string&gt; </td>
      
<td>key used in response </td>
      
<td>no </td>
    </tr>
    
<tr class="a">
      
<td>mtas.termvector.&lt;identifier&gt;.field </td>
      
<td>&lt;string&gt; </td>
      
<td>Mtas field </td>
      
<td>yes </td>
    </tr>
    
<tr class="b">
      
<td>mtas.termvector.&lt;identifier&gt;.prefix </td>
      
<td>&lt;string&gt; </td>
      
<td>prefix </td>
      
<td>yes </td>
    </tr>
    
<tr class="a">
      
<td>mtas.termvector.&lt;identifier&gt;.number </td>
      
<td>&lt;double&gt; </td>
      
<td>number of terms in list </td>
      
<td>no </td>
    </tr>
    
<tr class="b">
      
<td>mtas.termvector.&lt;identifier&gt;.start </td>
      
<td>&lt;string&gt; </td>
      
<td>begin list after provided term, only if sorted on term </td>
      
<td>no </td>
    </tr>
    
<tr class="a">
      
<td>mtas.termvector.&lt;identifier&gt;.type </td>
      
<td>&lt;string&gt; </td>
      
<td>required <a href="search_stats.html">type of statistics</a> </td>
      
<td>no </td>
    </tr>
    
<tr class="b">
      
<td>mtas.termvector.&lt;identifier&gt;.regexp </td>
      
<td>&lt;string&gt; </td>
      
<td>regular expression condition on term </td>
      
<td>no </td>
    </tr>
    
<tr class="a">
      
<td>mtas.termvector.&lt;identifier&gt;.ignoreRegexp </td>
      
<td>&lt;string&gt; </td>
      
<td>regular expression condition for terms that have to be ignored </td>
      
<td>no </td>
    </tr>
    
<tr class="b">
      
<td>mtas.termvector.&lt;identifier&gt;.sort.type </td>
      
<td>&lt;string&gt; </td>
      
<td>sort on term or <a href="search_stats.html">type of statistics</a> </td>
      
<td>no </td>
    </tr>
    
<tr class="a">
      
<td>mtas.termvector.&lt;identifier&gt;.sort.direction </td>
      
<td>&lt;string&gt; </td>
      
<td>sort direction: asc or desc </td>
      
<td>no </td>
    </tr>
  </tbody>
</table>
<div class="section">
<h2><a name="Full"></a>Full</h2>
<p>When using distributed search, instead of applying the more efficient default algorithm where in two rounds lists of terms are collected and combined from the participating cores, also another approach can be used. Using the <i>full</i> option, the complete lists of terms (matching all requirements) is collected from the participating cores, and combined afterwards. This approach is likely to be less efficient when huge lists are involved, but necessary for example when results have to be sorted on specific statistics.</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Info </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.termvector.&lt;identifier&gt;.full </td>
      
<td>&lt;boolean&gt; </td>
      
<td>compute full list of terms </td>
      
<td>no </td>
    </tr>
  </tbody>
</table></div>
<div class="section">
<h2><a name="List"></a>List</h2>
<p>If a list of terms is provided, the termvector will be restricted to items from this list. These items may be configured to be interpreted as explicit terms or as regular expressions. </p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Info </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.termvector.&lt;identifier&gt;.list </td>
      
<td>[&lt;string&gt;,&#x2026;] </td>
      
<td>list of terms </td>
      
<td>yes </td>
    </tr>
    
<tr class="a">
      
<td>mtas.termvector.&lt;identifier&gt;.listRegexp </td>
      
<td>&lt;boolean&gt; </td>
      
<td>interpret items in provided list as regular expressions </td>
      
<td>no </td>
    </tr>
  </tbody>
</table>
<p>Furthermore, a list of terms can be provided that should be ignored within the termvector. These items may also be configured to be interpreted as explicit terms or as regular expressions. </p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Info </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.termvector.&lt;identifier&gt;.ignoreList </td>
      
<td>[&lt;string&gt;,&#x2026;] </td>
      
<td>list of terms </td>
      
<td>yes </td>
    </tr>
    
<tr class="a">
      
<td>mtas.termvector.&lt;identifier&gt;.ignoreListRegexp </td>
      
<td>&lt;boolean&gt; </td>
      
<td>interpret items in provided ignoreList as regular expressions </td>
      
<td>no </td>
    </tr>
  </tbody>
</table></div>
<div class="section">
<h2><a name="Distances"></a>Distances</h2>
<p>For each term in the termvector, the distance to a predefined <tt>base</tt> term can be computed. </p>
<p>Two <tt>type</tt> of distance are available: <a class="externalLink" href="https://en.wikipedia.org/wiki/Levenshtein_distance">Levenshtein</a> and <a class="externalLink" href="https://en.wikipedia.org/wiki/Damerau%E2%80%93Levenshtein_distance">Damerau&#x2013;Levenshtein</a>, each with configurable parameters to define the weight of the relevant operations.</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Info </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.termvector.&lt;identifier&gt;.distance.&lt;identifier distance&gt;.key </td>
      
<td>&lt;string&gt; </td>
      
<td>key used in response </td>
      
<td>no </td>
    </tr>
    
<tr class="a">
      
<td>mtas.termvector.&lt;identifier&gt;.distance.&lt;identifier distance&gt;.type </td>
      
<td>&lt;string&gt; </td>
      
<td>type of distance </td>
      
<td>yes </td>
    </tr>
    
<tr class="b">
      
<td>mtas.termvector.&lt;identifier&gt;.distance.&lt;identifier distance&gt;.base </td>
      
<td>&lt;string&gt; </td>
      
<td>base term for distance </td>
      
<td>yes </td>
    </tr>
    
<tr class="a">
      
<td>mtas.termvector.&lt;identifier&gt;.distance.&lt;identifier distance&gt;.maximum </td>
      
<td>&lt;double&gt; </td>
      
<td>restrict termvector to terms with provided maximum </td>
      
<td>no </td>
    </tr>
    
<tr class="b">
      
<td>mtas.termvector.&lt;identifier&gt;.distance.&lt;identifier distance&gt;.parameter.* </td>
      
<td>&lt;string&gt; </td>
      
<td>type dependent parameters </td>
      
<td>no </td>
    </tr>
  </tbody>
</table>
<p>The available type dependent additional parameters for type <tt>levenshtein</tt> and <tt>damerau-levenshtein</tt> are</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Type </th>
      
<th>Type dependent parameter </th>
      
<th>Value </th>
      
<th>Info </th>
      
<th>Default </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>levenshtein, damerau-levenshtein </td>
      
<td>deletionDistance </td>
      
<td>&lt;double&gt; </td>
      
<td>distance for a deletion </td>
      
<td>1.0 </td>
    </tr>
    
<tr class="a">
      
<td>levenshtein, damerau-levenshtein </td>
      
<td>insertionDistance </td>
      
<td>&lt;double&gt; </td>
      
<td>distance for an insertion </td>
      
<td>1.0 </td>
    </tr>
    
<tr class="b">
      
<td>levenshtein, damerau-levenshtein </td>
      
<td>replaceDistance </td>
      
<td>&lt;double&gt; </td>
      
<td>distance for a replacement </td>
      
<td>1.0 </td>
    </tr>
    
<tr class="a">
      
<td>damerau-levenshtein </td>
      
<td>transpositionDistance </td>
      
<td>&lt;double&gt; </td>
      
<td>distance for a transposition </td>
      
<td>1.0 </td>
    </tr>
  </tbody>
</table></div>
<div class="section">
<h2><a name="Functions"></a>Functions</h2>
<p>Besides the specified statistics on hits over the documents, also statistics on the computed value of functions on the number of hits and the total number of words over the documents can be provided. In the definition of such a function, the number of hits is referred to as <i>$q0</i>, and the number of words is referred to as $n.</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Info </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.termvector.&lt;identifier&gt;.function.&lt;identifier function&gt;.key </td>
      
<td>&lt;string&gt; </td>
      
<td>key used in response </td>
      
<td>no </td>
    </tr>
    
<tr class="a">
      
<td>mtas.termvector.&lt;identifier&gt;.function.&lt;identifier function&gt;.expression </td>
      
<td>&lt;string&gt; </td>
      
<td>definition of function </td>
      
<td>yes </td>
    </tr>
    
<tr class="b">
      
<td>mtas.termvector.&lt;identifier&gt;.function.&lt;identifier function&gt;.type </td>
      
<td>&lt;string&gt; </td>
      
<td>required <a href="search_stats.html">type of statistics</a> </td>
      
<td>no </td>
    </tr>
  </tbody>
</table>
<p>Again, the key is added to the response and may be used to distinguish between multiple functions, and should therefore be unique within each specified termvector.</p>
<hr /></div>
<div class="section">
<h2><a name="Examples"></a>Examples</h2>

<ol style="list-style-type: decimal">
  
<li><a href="#basic">Basic</a> : basic statistics on occurring part of speech</li>
  
<li><a href="#regexp">Regexp</a> : words of length 5 containing only characters a-z, sorted descending by number of hits</li>
  
<li><a href="#ignore">Ignore</a> : previous result, ignoring words ending with $-e$.</li>
  
<li><a href="#list">List</a> : termvector for provided list of words.</li>
  
<li><a href="#start">Start</a> : termvector for words containing only characters a-z sorted by term and &gt; <i>koe</i>.</li>
  
<li><a href="#distances">Distances</a> : termvector for words with Levenshtein distance from 1 or less sorted descending by frequency.</li>
  
<li><a href="#functions">Functions</a> : statistics on hits, relative frequency and total number of words in document for words containing only characters a-z.</li>
</ol>
<hr />
<p><a name="basic"></a> </p>
<div class="section">
<h3><a name="Basic"></a>Basic</h3>
<p><b>Example</b><br />Total and average number of occurrences of part of speech (pos).</p>
<p><b>Request and response</b><br /><tt>q=*%3A*&amp;mtas=true&amp;mtas.termvector=true&amp;mtas.termvector.0.key=example - basic&amp;mtas.termvector.0.field=text&amp;mtas.termvector.0.prefix=pos&amp;mtas.termvector.0.number=3&amp;rows=0&amp;wt=json&amp;indent=true</tt></p>

<div class="source">
<div class="source"><pre class="prettyprint">&quot;mtas&quot;:{
    &quot;termvector&quot;:[{
        &quot;key&quot;:&quot;example - basic&quot;,
        &quot;list&quot;:[{
            &quot;mean&quot;:200.22966889678833,
            &quot;sum&quot;:25797991,
            &quot;n&quot;:128842,
            &quot;key&quot;:&quot;ADJ&quot;},
          {
            &quot;mean&quot;:149.53835013602176,
            &quot;sum&quot;:18689303,
            &quot;n&quot;:124980,
            &quot;key&quot;:&quot;BW&quot;},
          {
            &quot;mean&quot;:459.93552395416265,
            &quot;sum&quot;:59963634,
            &quot;n&quot;:130374,
            &quot;key&quot;:&quot;LET&quot;}]}]}
</pre></div></div>
<p><a name="regexp"></a> </p></div>
<div class="section">
<h3><a name="Regexp"></a>Regexp</h3>
<p><b>Example</b><br />List of words with length 5 and containing only characters a-z, sorted descending by number of hits.</p>
<p><b>Regular expression</b><br /><tt>[a-z]{5}</tt></p>
<p><b>Request and response</b><br /><tt>q=*%3A*&amp;mtas=true&amp;mtas.termvector=true&amp;mtas.termvector.0.key=example - regexp&amp;mtas.termvector.0.field=text&amp;mtas.termvector.0.prefix=t_lc&amp;mtas.termvector.0.number=5&amp;mtas.termvector.0.type=n,sum&amp;mtas.termvector.0.regexp=[a-z]{5}&amp;mtas.termvector.0.sort.type=sum&amp;rows=0&amp;wt=json&amp;indent=true</tt></p>

<div class="source">
<div class="source"><pre class="prettyprint">&quot;mtas&quot;:{
    &quot;termvector&quot;:[{
        &quot;key&quot;:&quot;example - regexp&quot;,
        &quot;list&quot;:[{
            &quot;sum&quot;:972687,
            &quot;n&quot;:94160,
            &quot;key&quot;:&quot;heeft&quot;},
          {
            &quot;sum&quot;:645227,
            &quot;n&quot;:84306,
            &quot;key&quot;:&quot;wordt&quot;},
          {
            &quot;sum&quot;:436038,
            &quot;n&quot;:82453,
            &quot;key&quot;:&quot;onder&quot;},
          {
            &quot;sum&quot;:391488,
            &quot;n&quot;:40512,
            &quot;key&quot;:&quot;zijne&quot;},
          {
            &quot;sum&quot;:314539,
            &quot;n&quot;:62316,
            &quot;key&quot;:&quot;welke&quot;}]}]}
</pre></div></div>
<p><a name="ignore"></a> </p></div>
<div class="section">
<h3><a name="Ignore"></a>Ignore</h3>
<p><b>Example</b><br />List of words with length 5 and containing only characters a-z, sorted descending by number of hits, ignoring all words ending with $-e$.</p>
<p><b>Regular expressions</b><br /><tt>[a-z]{5}</tt> <tt>.*e</tt></p>
<p><b>Request and response</b><br /><tt>q=*%3A*&amp;mtas=true&amp;mtas.termvector=true&amp;mtas.termvector.0.key=example - ignore&amp;mtas.termvector.0.field=text&amp;mtas.termvector.0.prefix=t_lc&amp;mtas.termvector.0.number=5&amp;mtas.termvector.0.type=n,sum&amp;mtas.termvector.0.regexp=[a-z]{5}&amp;mtas.termvector.0.ignoreRegexp=.*e&amp;mtas.termvector.0.sort.type=sum&amp;rows=0&amp;wt=json&amp;indent=true</tt></p>

<div class="source">
<div class="source"><pre class="prettyprint">&quot;mtas&quot;:{
    &quot;termvector&quot;:[{
        &quot;key&quot;:&quot;example - ignore&quot;,
        &quot;list&quot;:[{
            &quot;sum&quot;:972687,
            &quot;n&quot;:94160,
            &quot;key&quot;:&quot;heeft&quot;},
          {
            &quot;sum&quot;:645227,
            &quot;n&quot;:84306,
            &quot;key&quot;:&quot;wordt&quot;},
          {
            &quot;sum&quot;:436038,
            &quot;n&quot;:82453,
            &quot;key&quot;:&quot;onder&quot;},
          {
            &quot;sum&quot;:304620,
            &quot;n&quot;:60555,
            &quot;key&quot;:&quot;leven&quot;},
          {
            &quot;sum&quot;:297160,
            &quot;n&quot;:58263,
            &quot;key&quot;:&quot;waren&quot;}]}]}
</pre></div></div>
<p><a name="basic"></a> </p></div>
<div class="section">
<h3><a name="List"></a>List</h3>
<p><b>Example</b><br />Termvector for provided list of words.</p>
<p><b>List</b> <tt>koe,paard,schaap,geit,kip</tt></p>
<p><b>Request and response</b><br /><tt>q=*%3A*&amp;mtas=true&amp;mtas.termvector=true&amp;mtas.termvector.0.key=example - list&amp;mtas.termvector.0.field=text&amp;mtas.termvector.0.prefix=t_lc&amp;mtas.termvector.0.list=koe,paard,schaap,geit,kip&amp;mtas.termvector.0.type=n,sum&amp;rows=0&amp;wt=json&amp;indent=true</tt></p>

<div class="source">
<div class="source"><pre class="prettyprint">&quot;mtas&quot;:{
    &quot;termvector&quot;:[{
        &quot;key&quot;:&quot;example - list&quot;,
        &quot;list&quot;:[{
            &quot;sum&quot;:1128,
            &quot;n&quot;:683,
            &quot;key&quot;:&quot;geit&quot;},
          {
            &quot;sum&quot;:1410,
            &quot;n&quot;:864,
            &quot;key&quot;:&quot;kip&quot;},
          {
            &quot;sum&quot;:4432,
            &quot;n&quot;:2344,
            &quot;key&quot;:&quot;koe&quot;},
          {
            &quot;sum&quot;:15478,
            &quot;n&quot;:7436,
            &quot;key&quot;:&quot;paard&quot;},
          {
            &quot;sum&quot;:2154,
            &quot;n&quot;:1591,
            &quot;key&quot;:&quot;schaap&quot;}]}]}
</pre></div></div>
<p><a name="start"></a> </p></div>
<div class="section">
<h3><a name="Start"></a>Start</h3>
<p><b>Example</b><br />Termvector for words containing only characters a-z sorted by term and &gt; <i>koe</i>.</p>
<p><b>Request and response</b><br /><tt>q=*%3A*&amp;mtas=true&amp;mtas.termvector=true&amp;mtas.termvector.0.key=example - start&amp;mtas.termvector.0.field=text&amp;mtas.termvector.0.prefix=t_lc&amp;mtas.termvector.0.regexp=[a-z]*&amp;mtas.termvector.0.number=5&amp;mtas.termvector.0.start=koe&amp;rows=0&amp;wt=json&amp;indent=true</tt></p>

<div class="source">
<div class="source"><pre class="prettyprint">&quot;mtas&quot;:{
    &quot;termvector&quot;:[{
        &quot;key&quot;:&quot;example - start&quot;,
        &quot;list&quot;:[{
            &quot;mean&quot;:2.0,
            &quot;sum&quot;:2,
            &quot;n&quot;:1,
            &quot;key&quot;:&quot;koea&quot;},
          {
            &quot;mean&quot;:1.0,
            &quot;sum&quot;:1,
            &quot;n&quot;:1,
            &quot;key&quot;:&quot;koeaan&quot;},
          {
            &quot;mean&quot;:1.0,
            &quot;sum&quot;:2,
            &quot;n&quot;:2,
            &quot;key&quot;:&quot;koeachtig&quot;},
          {
            &quot;mean&quot;:1.5,
            &quot;sum&quot;:3,
            &quot;n&quot;:2,
            &quot;key&quot;:&quot;koeachtige&quot;},
          {
            &quot;mean&quot;:1.0,
            &quot;sum&quot;:2,
            &quot;n&quot;:2,
            &quot;key&quot;:&quot;koeala&quot;}]}]}
</pre></div></div>
<p><a name="distances"></a> </p></div>
<div class="section">
<h3><a name="Distances"></a>Distances</h3>
<p><b>Example</b><br />List of words, sorted descending by number of hits, with at most Levenshtein distance 1 from <tt>regering</tt>. For each word, the Levenshtein distance from <tt>regering</tt> is computed, and also the Damerau-Levensthein distance from <tt>regering</tt> with specific weights for <i>deletion</i>, <i>insertion</i>, <i>replacement</i> and <i>transposition</i>.</p>
<p><b>Request and response</b><br /><tt>q=*%3A*&amp;mtas=true&amp;mtas.termvector=true&amp;mtas.termvector.0.field=text&amp;mtas.termvector.0.prefix=t_lc&amp;mtas.termvector.0.key=distance&amp;mtas.termvector.0.distance.0.type=levenshtein&amp;mtas.termvector.0.distance.0.base=regering&amp;mtas.termvector.0.distance.0.key=Levenshtein&amp;mtas.termvector.0.distance.0.maximum=1&amp;mtas.termvector.0.distance.1.type=damerau-levenshtein&amp;mtas.termvector.0.distance.1.base=regering&amp;mtas.termvector.0.distance.1.key=Damerau-Levenshtein&amp;mtas.termvector.0.distance.1.parameter.deletionDistance=0.81&amp;mtas.termvector.0.distance.1.parameter.insertionDistance=0.82&amp;mtas.termvector.0.distance.1.parameter.replaceDistance=0.83&amp;mtas.termvector.0.distance.1.parameter.transpositionDistance=0.84&amp;mtas.termvector.0.number=5&amp;mtas.termvector.0.sort.type=sum&amp;mtas.termvector.0.sort.direction=desc&amp;mtas.termvector.0.full=true&amp;rows=0&amp;wt=json</tt></p>

<div class="source">
<div class="source"><pre class="prettyprint">&quot;mtas&quot;:{
    &quot;termvector&quot;:[{
        &quot;key&quot;:&quot;distance&quot;,
        &quot;listTotal&quot;:49,
        &quot;list&quot;:[{
            &quot;distance&quot;:{
              &quot;Levenshtein&quot;:0.0,
              &quot;Damerau-Levenshtein&quot;:0.0},
            &quot;mean&quot;:1.7536344857153994,
            &quot;sum&quot;:134979,
            &quot;n&quot;:76971,
            &quot;key&quot;:&quot;regering&quot;},
          {
            &quot;distance&quot;:{
              &quot;Levenshtein&quot;:1.0,
              &quot;Damerau-Levenshtein&quot;:0.83},
            &quot;mean&quot;:1.6863562423749492,
            &quot;sum&quot;:16587,
            &quot;n&quot;:9836,
            &quot;key&quot;:&quot;regeling&quot;},
          {
            &quot;distance&quot;:{
              &quot;Levenshtein&quot;:1.0,
              &quot;Damerau-Levenshtein&quot;:0.81},
            &quot;mean&quot;:1.0262390670553936,
            &quot;sum&quot;:352,
            &quot;n&quot;:343,
            &quot;key&quot;:&quot;regerings&quot;},
          {
            &quot;distance&quot;:{
              &quot;Levenshtein&quot;:1.0,
              &quot;Damerau-Levenshtein&quot;:0.83},
            &quot;mean&quot;:1.4080459770114941,
            &quot;sum&quot;:245,
            &quot;n&quot;:174,
            &quot;key&quot;:&quot;legering&quot;},
          {
            &quot;distance&quot;:{
              &quot;Levenshtein&quot;:1.0,
              &quot;Damerau-Levenshtein&quot;:0.81},
            &quot;mean&quot;:1.0,
            &quot;sum&quot;:97,
            &quot;n&quot;:97,
            &quot;key&quot;:&quot;regering.&quot;}]}]}
</pre></div></div>
<p><a name="functions"></a> </p></div>
<div class="section">
<h3><a name="Functions"></a>Functions</h3>
<p><b>Example</b><br />List of words containing only characters a-z, sorted descending by number of hits, with statistics on hits, relative frequency and total number of words in document.</p>
<p><b>Regular expression</b><br /><tt>[a-z]*</tt></p>
<p><b>Functions</b><br /><tt>$q0/$n</tt> <tt>$n</tt></p>
<p><b>Request and response</b><br /><tt>q=*%3A*&amp;mtas=true&amp;mtas.termvector=true&amp;mtas.termvector.0.key=example - list&amp;mtas.termvector.0.field=text&amp;mtas.termvector.0.prefix=t_lc&amp;mtas.termvector.0.regexp=[a-z]*&amp;mtas.termvector.0.sort.type=sum&amp;mtas.termvector.0.type=n,sum&amp;mtas.termvector.0.function.0.expression=%24q0%2F%24n&amp;mtas.termvector.0.function.0.key=relative+frequency&amp;mtas.termvector.0.function.0.type=n%2Cmean&amp;mtas.termvector.0.function.1.expression=%24n&amp;mtas.termvector.0.function.1.key=total+number+of+words&amp;mtas.termvector.0.function.1.type=n%2Csum&amp;mtas.termvector.0.number=3&amp;rows=0&amp;wt=json&amp;indent=true</tt></p>

<div class="source">
<div class="source"><pre class="prettyprint">&quot;mtas&quot;:{
    &quot;termvector&quot;:[{
        &quot;key&quot;:&quot;example - list&quot;,
        &quot;list&quot;:[{
            &quot;sum&quot;:15975272,
            &quot;n&quot;:127444,
            &quot;functions&quot;:{
              &quot;total number of words&quot;:{
                &quot;sum&quot;:391924648,
                &quot;n&quot;:127444},
              &quot;relative frequency&quot;:{
                &quot;mean&quot;:0.040967994034336694,
                &quot;n&quot;:127444}},
            &quot;key&quot;:&quot;de&quot;},
          {
            &quot;sum&quot;:10565895,
            &quot;n&quot;:126197,
            &quot;functions&quot;:{
              &quot;total number of words&quot;:{
                &quot;sum&quot;:391190126,
                &quot;n&quot;:126197},
              &quot;relative frequency&quot;:{
                &quot;mean&quot;:0.028072930308247233,
                &quot;n&quot;:126197}},
            &quot;key&quot;:&quot;van&quot;},
          {
            &quot;sum&quot;:8798835,
            &quot;n&quot;:125415,
            &quot;functions&quot;:{
              &quot;total number of words&quot;:{
                &quot;sum&quot;:391306760,
                &quot;n&quot;:125415},
              &quot;relative frequency&quot;:{
                &quot;mean&quot;:0.02376864203286862,
                &quot;n&quot;:125415}},
            &quot;key&quot;:&quot;en&quot;}]}]}
</pre></div></div>
<p><b>Lucene</b></p>
<p>To use termvectors <a href="installation_lucene.html">directly in Lucene</a>, <i>ComponentTermvector</i> together with the provided <i>collect</i> method can be used. </p></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2020
                        <a href="https://www.textexploration.org/">Text Exploration</a>.
            All rights reserved.    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
